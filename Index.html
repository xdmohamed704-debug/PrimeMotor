<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Prime Motors — عرض السيارات</title>
<style>
  :root{
    --bg:#0f0f0f; --card:#141414; --gold:#d4af37; --muted:#bfc7c2;
  }
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:#fff;padding:22px;}
  h1,h2{text-align:center;margin:6px 0;color:var(--gold)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;margin:22px 0}
  .card{background:var(--card);border-radius:12px;overflow:hidden;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.6);transition:transform .18s,box-shadow .18s}
  .card:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(0,0,0,.7)}
  .card img{width:100%;height:160px;object-fit:cover;display:block}
  .card-body{padding:12px}
  .card h3{margin:0;color:var(--gold);font-size:18px}
  .card p{margin:6px 0;color:var(--muted);font-size:13px}
  .price{font-weight:700;color:#fff;margin-top:8px}
  footer{text-align:center;color:#9aa19a;margin-top:26px;font-size:13px}

  /* Modals common */
  .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:200;align-items:center;justify-content:center;padding:20px}
  .modal.open{display:flex}
  .modal-box{width:100%;max-width:760px;background:#101010;border-radius:12px;padding:18px;position:relative;box-shadow:0 10px 40px rgba(0,0,0,.7)}
  .close-btn{position:absolute;top:10px;left:12px;background:transparent;border:none;color:var(--gold);font-size:26px;cursor:pointer}
  .modal-box h3{margin:0 0 8px;color:var(--gold);text-align:center}
  .images-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:12px 0}
  .images-row img{width:48%;height:220px;object-fit:cover;border-radius:8px}
  .price-large{color:#fff;font-weight:700;margin-top:8px;text-align:center}

  /* arrows inside modal */
  .arrow{position:absolute;top:50%;transform:translateY(-50%);font-size:28px;color:var(--gold);cursor:pointer;padding:8px;user-select:none}
  .arrow.prev{right:calc(100% + 6px); /* visually left RTL */} 
  .arrow.next{left:calc(100% + 6px);} 

  /* Purchase form */
  .form-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
  label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
  input[type="text"],input[type="tel"],select{width:100%;padding:10px;border-radius:8px;border:1px solid #222;background:#0b0b0b;color:#fff}
  .two{flex:1 1 48%}
  .actions{display:flex;gap:10px;justify-content:center;margin-top:14px}
  .btn{padding:11px 18px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .btn-primary{background:var(--gold);color:#000}
  .btn-ghost{background:#222;color:var(--muted)}
  .small{font-size:13px;color:#9aa19a;margin-top:8px;text-align:center}

  /* success receipt */
  .receipt{background:#0b0b0b;padding:12px;border-radius:8px;color:var(--muted);font-size:14px;white-space:pre-wrap;overflow:auto;max-height:320px}

  @media (max-width:640px){
    .images-row img{width:100%;height:200px}
    .arrow.prev{right:8px;left:auto}
    .arrow.next{left:8px;right:auto}
  }
</style>
</head>
<body>

<h1>Prime Motors</h1>
<h2>وجهتك لشراء السيارة بأفضل جودة وخدمة</h2>

<section class="grid" id="carsGrid">
  <!-- البطاقات مُضمّنة عبر HTML (10 سيارات) -->
  <!-- 1 -->
  <article class="card" data-exterior="
" data-interior=
https://dbz-images.dubizzle.com/images/2025/10/04/0af0477f843548318c7e0fe5962fbdfa-.jpeg?impolicy=dpc" data-title="مرسيدس C200 - 2021" data-price="120,000 د.إ">
    <img src="
https://dbz-images.dubizzle.com/images/2025/10/04/c1855ed79ef64da5b2b7405cf0b910ea-.jpeg?impolicy=dpc" alt="">
    <div class="card-body"><h3>مرسيدس C200 - 2021</h3><p>تصميم أنيق وتقنيات راقية.</p><div class="price">120,000 د.إ</div></div>
  </article>

  <!-- 2 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1592194996308-7b43878e84a6?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1617814076757-f5093ea05559?auto=format&fit=crop&w=1200&q=80" data-title="BMW X5 - 2020" data-price="200,000 د.إ">
    <img src="https://images.unsplash.com/photo-1592194996308-7b43878e84a6?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>BMW X5 - 2020</h3><p>SUV فاخرة مع أداء قوي.</p><div class="price">200,000 د.إ</div></div>
  </article>

  <!-- 3 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1616455162386-006cfabef2a6?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1601924571377-f52f5734cdde?auto=format&fit=crop&w=1200&q=80" data-title="تويوتا كامري - 2022" data-price="95,000 د.إ">
    <img src="https://images.unsplash.com/photo-1616455162386-006cfabef2a6?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>تويوتا كامري - 2022</h3><p>اقتصادية وعملية للعائلة.</p><div class="price">95,000 د.إ</div></div>
  </article>

  <!-- 4 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1618198993242-161bdf83c4ec?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1609674328040-6b3c7a5486c5?auto=format&fit=crop&w=1200&q=80" data-title="أودي A6 - 2021" data-price="150,000 د.إ">
    <img src="https://images.unsplash.com/photo-1618198993242-161bdf83c4ec?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>أودي A6 - 2021</h3><p>فخامة مع أداء متوازن.</p><div class="price">150,000 د.إ</div></div>
  </article>

  <!-- 5 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1605827073813-c90d92e0fca5?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1615853130142-6f71c1e4a69e?auto=format&fit=crop&w=1200&q=80" data-title="لكزس RX - 2020" data-price="180,000 د.إ">
    <img src="https://images.unsplash.com/photo-1605827073813-c90d92e0fca5?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>لكزس RX - 2020</h3><p>راحة وفخامة للرحلات العائلية.</p><div class="price">180,000 د.إ</div></div>
  </article>

  <!-- 6 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1603781268721-1b15f482cc11?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993454-7f0e7d9b2f54?auto=format&fit=crop&w=1200&q=80" data-title="مرسيدس GLC - 2022" data-price="220,000 د.إ">
    <img src="https://images.unsplash.com/photo-1603781268721-1b15f482cc11?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>مرسيدس GLC - 2022</h3><p>SUV رياضية وفاخرة.</p><div class="price">220,000 د.إ</div></div>
  </article>

  <!-- 7 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1609858416164-bf4ffb66dc95?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993354-7d5f8a2c5e35?auto=format&fit=crop&w=1200&q=80" data-title="رنج روفر - 2021" data-price="350,000 د.إ">
    <img src="https://images.unsplash.com/photo-1609858416164-bf4ffb66dc95?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>رنج روفر - 2021</h3><p>فخامة وأداء قوي للطرق المختلفة.</p><div class="price">350,000 د.إ</div></div>
  </article>

  <!-- 8 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1603721911027-6d6b59273a38?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993555-6e4f8d1b5e66?auto=format&fit=crop&w=1200&q=80" data-title="BMW i8 - 2020" data-price="300,000 د.إ">
    <img src="https://images.unsplash.com/photo-1603721911027-6d6b59273a38?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>BMW i8 - 2020</h3><p>رياضية هجينة وتصميم مستقبلي.</p><div class="price">300,000 د.إ</div></div>
  </article>

  <!-- 9 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1601924571377-f52f5734cdde?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993655-1e4c8d2b7d66?auto=format&fit=crop&w=1200&q=80" data-title="بورش 911 - 2021" data-price="500,000 د.إ">
    <img src="https://images.unsplash.com/photo-1601924571377-f52f5734cdde?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>بورش 911 - 2021</h3><p>أيقونة السيارات الرياضية بأداء خارق.</p><div class="price">500,000 د.إ</div></div>
  </article>

  <!-- 10 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1603791440384-56cd371ee9b5?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993755-7e4f9d2b7d77?auto=format&fit=crop&w=1200&q=80" data-title="تسلا موديل S - 2020" data-price="400,000 د.إ">
    <img src="https://images.unsplash.com/photo-1603791440384-56cd371ee9b5?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>تسلا موديل S - 2020</h3><p>كهربائية متقدمة مع تقنيات قيادة.</p><div class="price">400,000 د.إ</div></div>
  </article>
</section>

<!-- Modal: عرض السيارة + شراء -->
<div id="carModal" class="modal" aria-hidden="true">
  <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <button class="close-btn" id="closeModal" title="إغلاق">&times;</button>
    <span class="arrow prev" id="prev">&#10094;</span>
    <span class="arrow next" id="next">&#10095;</span>

    <h3 id="modalTitle">عنوان السيارة</h3>

    <div class="images-row">
      <img id="modalExterior" src="" alt="خارجي">
      <img id="modalInterior" src="" alt="داخلي">
    </div>

    <div class="price-large" id="modalPrice">0 د.إ</div>

    <!-- Form: نموذج الدفع الوهمي -->
    <div id="purchaseArea">
      <div style="max-width:680px;margin:0 auto;">
        <label>اختر وسيلة الدفع:</label>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px">
          <button class="btn btn-ghost" data-pay="visa">فيزا</button>
          <button class="btn btn-ghost" data-pay="mastercard">ماستركارد</button>
          <button class="btn btn-ghost" data-pay="bank">تحويل بنكي</button>
          <button class="btn btn-ghost" data-pay="installments">تقسيط</button>
        </div>

        <div class="form-row">
          <div class="two">
            <label>اسم المشتري</label>
            <input id="buyerName" type="text" placeholder="الاسم الكامل">
          </div>
          <div class="two">
            <label>هاتف للتواصل</label>
            <input id="buyerPhone" type="tel" placeholder="+971 5x xxx xxxx">
          </div>
        </div>

        <div id="cardFields" style="margin-top:10px">
          <div class="form-row">
            <div class="two">
              <label>رقم البطاقة (تجريبي)</label>
              <input id="cardNumber" type="text" placeholder="4242 4242 4242 4242">
            </div>
            <div class="two">
              <label>تاريخ الانتهاء / CVV</label>
              <input id="cardExpire" type="text" placeholder="MM/YY • CVV">
            </div>
          </div>
        </div>

        <div class="actions">
          <button class="btn btn-primary" id="confirmBuy">إتمام الدفع</button>
          <button class="btn btn-ghost" id="cancelBuy">إلغاء</button>
        </div>

        <p class="small">هذه تجربة عرض — لا يتم إرسال أي بيانات. لربط بوابة دفع حقيقية سنجهز التكامل المباشر لاحقاً.</p>
      </div>
    </div>

    <!-- Success area (hidden until success) -->
    <div id="successArea" style="display:none;margin-top:12px;text-align:center">
      <h4 style="color:#9fe8a9">تمت المعاملة بنجاح 🎉</h4>
      <div class="receipt" id="receiptText"></div>
      <div style="margin-top:12px;display:flex;gap:8px;justify-content:center">
        <button class="btn btn-primary" id="downloadReceipt">تحميل الإيصال</button>
        <button class="btn btn-ghost" id="closeAfter">غلق</button>
      </div>
    </div>

  </div>
</div>

<footer>© 2025 Prime Motors - جميع الحقوق محفوظة</footer>

<script>
/* عناصر رئيسية */
const cards = document.querySelectorAll('.card');
const modal = document.getElementById('carModal');
const titleEl = document.getElementById('modalTitle');
const extImg = document.getElementById('modalExterior');
const intImg = document.getElementById('modalInterior');
const priceEl = document.getElementById('modalPrice');
const closeModal = document.getElementById('closeModal');
const prev = document.getElementById('prev');
const next = document.getElementById('next');

const payButtons = document.querySelectorAll('[data-pay]');
const cardFields = document.getElementById('cardFields');
const buyerName = document.getElementById('buyerName');
const buyerPhone = document.getElementById('buyerPhone');
const cardNumber = document.getElementById('cardNumber');
const cardExpire = document.getElementById('cardExpire');

const confirmBuy = document.getElementById('confirmBuy');
const cancelBuy = document.getElementById('cancelBuy');

const purchaseArea = document.getElementById('purchaseArea');
const successArea = document.getElementById('successArea');
const receiptText = document.getElementById('receiptText');
const downloadReceipt = document.getElementById('downloadReceipt');
const closeAfter = document.getElementById('closeAfter');

let currentIndex = 0;
let selectedPay = 'visa';

/* فتح المودال لسيارة معينة */
function openModal(index){
  const card = cards[index];
  const title = card.dataset.title || 'سيارة';
  const price = card.dataset.price || '';
  const ext = card.dataset.exterior || '';
  const intr = card.dataset.interior || '';

  titleEl.textContent = title;
  priceEl.textContent = price;
  extImg.src = ext;
  intImg.src = intr;

  // reset form
  selectedPay = 'visa';
  payButtons.forEach(b=>b.classList.remove('active'));
  payButtons[0].classList.add('active');
  cardFields.style.display = '';
  buyerName.value = '';
  buyerPhone.value = '';
  cardNumber.value = '';
  cardExpire.value = '';
  successArea.style.display = 'none';
  purchaseArea.style.display = '';

  modal.classList.add('open');
  modal.setAttribute('aria-hidden','false');
  currentIndex = index;
}

/* إغلاق */
function close(){
  modal.classList.remove('open');
  modal.setAttribute('aria-hidden','true');
}

/* التنقل */
function goto(index){
  currentIndex = (index + cards.length) % cards.length;
  openModal(currentIndex);
}

/* ربط أحداث البطاقات */
cards.forEach((card,i)=>{
  card.addEventListener('click', ()=> openModal(i));
});

/* أزرار إغلاق و الأسهم */
closeModal.addEventListener('click', close);
prev.addEventListener('click', ()=> goto(currentIndex-1));
next.addEventListener('click', ()=> goto(currentIndex+1));
window.addEventListener('keydown', e=>{
  if(modal.classList.contains('open')){
    if(e.key === 'ArrowLeft') goto(currentIndex-1);
    if(e.key === 'ArrowRight') goto(currentIndex+1);
    if(e.key === 'Escape') close();
  }
});
window.addEventListener('click', e=> { if(e.target === modal) close(); });

/* اختيار وسيلة الدفع */
payButtons.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    payButtons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    selectedPay = btn.dataset.pay;
    // إظهار/إخفاء حقول البطاقة عند الحاجة
    if(selectedPay === 'bank' || selectedPay === 'installments'){
      cardFields.style.display = 'none';
    } else {
      cardFields.style.display = '';
    }
  });
});

/* تأكيد الشراء — محاكاة معالجة */
confirmBuy.addEventListener('click', ()=>{
  // تحقق مبدئي بسيط
  if(!buyerName.value.trim()){
    alert('يرجى إدخال اسم المشتري');
    buyerName.focus();
    return;
  }
  if(!buyerPhone.value.trim()){
    alert('يرجى إدخال رقم هاتف صالح');
    buyerPhone.focus();
    return;
  }
  if((selectedPay === 'visa' || selectedPay === 'mastercard') && !cardNumber.value.trim()){
    alert('يرجى إدخال رقم البطاقة التجريبي');
    cardNumber.focus();
    return;
  }

  // عرض حالة معالجة (محاكاة) ثم نجاح
  confirmBuy.disabled = true;
  confirmBuy.textContent = 'جارٍ المعالجة...';

  setTimeout(()=> {
    // محاكاة نجاح
    const car = cards[currentIndex].dataset.title;
    const price = cards[currentIndex].dataset.price;
    const name = buyerName.value.trim();
    const phone = buyerPhone.value.trim();
    const payMethod = selectedPay;
    const txnId = 'PM-' + Date.now().toString(36).toUpperCase();

    // نص الإيصال
    const receipt = [
      'Prime Motors',
      'إيصال شراء - تأكيد وهمي',
      '-----------------------------',
      `رقم العملية: ${txnId}`,
      `المشتري: ${name}`,
      `الهاتف: ${phone}`,
      `السيارة: ${car}`,
      `المبلغ: ${price}`,
      `وسيلة الدفع: ${payMethod}`,
      `التاريخ: ${new Date().toLocaleString('ar-EG')}`,
      '-----------------------------',
      'شكراً لثقتك بـ Prime Motors!'
    ].join('\n');

    receiptText.textContent = receipt;
    purchaseArea.style.display = 'none';
    successArea.style.display = '';
    confirmBuy.disabled = false;
    confirmBuy.textContent = 'إتمام الدفع';

  }, 900); // تأخير قصير لمحاكاة المعالجة (عملي داخل الصفحة)
});

/* تحميل الإيصال كملف نصي */
downloadReceipt.addEventListener('click', ()=>{
  const text = receiptText.textContent || 'Receipt';
  const blob = new Blob([text], {type: 'text/plain;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'receipt-prime-motors.txt';
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
});

/* إغلاق بعد النجاح */
closeAfter.addEventListener('click', ()=>{
  close();
});
</script>

</body>
</html>
