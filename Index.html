<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Prime Motors â€” Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</title>
<style>
  :root{
    --bg:#0f0f0f; --card:#141414; --gold:#d4af37; --muted:#bfc7c2;
  }
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:#fff;padding:22px;}
  h1,h2{text-align:center;margin:6px 0;color:var(--gold)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;margin:22px 0}
  .card{background:var(--card);border-radius:12px;overflow:hidden;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.6);transition:transform .18s,box-shadow .18s}
  .card:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(0,0,0,.7)}
  .card img{width:100%;height:160px;object-fit:cover;display:block}
  .card-body{padding:12px}
  .card h3{margin:0;color:var(--gold);font-size:18px}
  .card p{margin:6px 0;color:var(--muted);font-size:13px}
  .price{font-weight:700;color:#fff;margin-top:8px}
  footer{text-align:center;color:#9aa19a;margin-top:26px;font-size:13px}

  /* Modals common */
  .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:200;align-items:center;justify-content:center;padding:20px}
  .modal.open{display:flex}
  .modal-box{width:100%;max-width:760px;background:#101010;border-radius:12px;padding:18px;position:relative;box-shadow:0 10px 40px rgba(0,0,0,.7)}
  .close-btn{position:absolute;top:10px;left:12px;background:transparent;border:none;color:var(--gold);font-size:26px;cursor:pointer}
  .modal-box h3{margin:0 0 8px;color:var(--gold);text-align:center}
  .images-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:12px 0}
  .images-row img{width:48%;height:220px;object-fit:cover;border-radius:8px}
  .price-large{color:#fff;font-weight:700;margin-top:8px;text-align:center}

  /* arrows inside modal */
  .arrow{position:absolute;top:50%;transform:translateY(-50%);font-size:28px;color:var(--gold);cursor:pointer;padding:8px;user-select:none}
  .arrow.prev{right:calc(100% + 6px); /* visually left RTL */} 
  .arrow.next{left:calc(100% + 6px);} 

  /* Purchase form */
  .form-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
  label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
  input[type="text"],input[type="tel"],select{width:100%;padding:10px;border-radius:8px;border:1px solid #222;background:#0b0b0b;color:#fff}
  .two{flex:1 1 48%}
  .actions{display:flex;gap:10px;justify-content:center;margin-top:14px}
  .btn{padding:11px 18px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .btn-primary{background:var(--gold);color:#000}
  .btn-ghost{background:#222;color:var(--muted)}
  .small{font-size:13px;color:#9aa19a;margin-top:8px;text-align:center}

  /* success receipt */
  .receipt{background:#0b0b0b;padding:12px;border-radius:8px;color:var(--muted);font-size:14px;white-space:pre-wrap;overflow:auto;max-height:320px}

  @media (max-width:640px){
    .images-row img{width:100%;height:200px}
    .arrow.prev{right:8px;left:auto}
    .arrow.next{left:8px;right:auto}
  }
</style>
</head>
<body>

<h1>Prime Motors</h1>
<h2>ÙˆØ¬Ù‡ØªÙƒ Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø¨Ø£ÙØ¶Ù„ Ø¬ÙˆØ¯Ø© ÙˆØ®Ø¯Ù…Ø©</h2>

<section class="grid" id="carsGrid">
  <!-- Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ù…ÙØ¶Ù…Ù‘Ù†Ø© Ø¹Ø¨Ø± HTML (10 Ø³ÙŠØ§Ø±Ø§Øª) -->
  <!-- 1 -->
  <article class="card" data-exterior="
" data-interior=
https://dbz-images.dubizzle.com/images/2025/10/04/0af0477f843548318c7e0fe5962fbdfa-.jpeg?impolicy=dpc" data-title="Ù…Ø±Ø³ÙŠØ¯Ø³ C200 - 2021" data-price="120,000 Ø¯.Ø¥">
    <img src="
https://dbz-images.dubizzle.com/images/2025/10/04/c1855ed79ef64da5b2b7405cf0b910ea-.jpeg?impolicy=dpc" alt="">
    <div class="card-body"><h3>Ù…Ø±Ø³ÙŠØ¯Ø³ C200 - 2021</h3><p>ØªØµÙ…ÙŠÙ… Ø£Ù†ÙŠÙ‚ ÙˆØªÙ‚Ù†ÙŠØ§Øª Ø±Ø§Ù‚ÙŠØ©.</p><div class="price">120,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 2 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1592194996308-7b43878e84a6?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1617814076757-f5093ea05559?auto=format&fit=crop&w=1200&q=80" data-title="BMW X5 - 2020" data-price="200,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1592194996308-7b43878e84a6?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>BMW X5 - 2020</h3><p>SUV ÙØ§Ø®Ø±Ø© Ù…Ø¹ Ø£Ø¯Ø§Ø¡ Ù‚ÙˆÙŠ.</p><div class="price">200,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 3 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1616455162386-006cfabef2a6?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1601924571377-f52f5734cdde?auto=format&fit=crop&w=1200&q=80" data-title="ØªÙˆÙŠÙˆØªØ§ ÙƒØ§Ù…Ø±ÙŠ - 2022" data-price="95,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1616455162386-006cfabef2a6?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>ØªÙˆÙŠÙˆØªØ§ ÙƒØ§Ù…Ø±ÙŠ - 2022</h3><p>Ø§Ù‚ØªØµØ§Ø¯ÙŠØ© ÙˆØ¹Ù…Ù„ÙŠØ© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø©.</p><div class="price">95,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 4 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1618198993242-161bdf83c4ec?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1609674328040-6b3c7a5486c5?auto=format&fit=crop&w=1200&q=80" data-title="Ø£ÙˆØ¯ÙŠ A6 - 2021" data-price="150,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1618198993242-161bdf83c4ec?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>Ø£ÙˆØ¯ÙŠ A6 - 2021</h3><p>ÙØ®Ø§Ù…Ø© Ù…Ø¹ Ø£Ø¯Ø§Ø¡ Ù…ØªÙˆØ§Ø²Ù†.</p><div class="price">150,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 5 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1605827073813-c90d92e0fca5?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1615853130142-6f71c1e4a69e?auto=format&fit=crop&w=1200&q=80" data-title="Ù„ÙƒØ²Ø³ RX - 2020" data-price="180,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1605827073813-c90d92e0fca5?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>Ù„ÙƒØ²Ø³ RX - 2020</h3><p>Ø±Ø§Ø­Ø© ÙˆÙØ®Ø§Ù…Ø© Ù„Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©.</p><div class="price">180,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 6 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1603781268721-1b15f482cc11?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993454-7f0e7d9b2f54?auto=format&fit=crop&w=1200&q=80" data-title="Ù…Ø±Ø³ÙŠØ¯Ø³ GLC - 2022" data-price="220,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1603781268721-1b15f482cc11?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>Ù…Ø±Ø³ÙŠØ¯Ø³ GLC - 2022</h3><p>SUV Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆÙØ§Ø®Ø±Ø©.</p><div class="price">220,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 7 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1609858416164-bf4ffb66dc95?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993354-7d5f8a2c5e35?auto=format&fit=crop&w=1200&q=80" data-title="Ø±Ù†Ø¬ Ø±ÙˆÙØ± - 2021" data-price="350,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1609858416164-bf4ffb66dc95?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>Ø±Ù†Ø¬ Ø±ÙˆÙØ± - 2021</h3><p>ÙØ®Ø§Ù…Ø© ÙˆØ£Ø¯Ø§Ø¡ Ù‚ÙˆÙŠ Ù„Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©.</p><div class="price">350,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 8 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1603721911027-6d6b59273a38?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993555-6e4f8d1b5e66?auto=format&fit=crop&w=1200&q=80" data-title="BMW i8 - 2020" data-price="300,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1603721911027-6d6b59273a38?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>BMW i8 - 2020</h3><p>Ø±ÙŠØ§Ø¶ÙŠØ© Ù‡Ø¬ÙŠÙ†Ø© ÙˆØªØµÙ…ÙŠÙ… Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ.</p><div class="price">300,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 9 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1601924571377-f52f5734cdde?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993655-1e4c8d2b7d66?auto=format&fit=crop&w=1200&q=80" data-title="Ø¨ÙˆØ±Ø´ 911 - 2021" data-price="500,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1601924571377-f52f5734cdde?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>Ø¨ÙˆØ±Ø´ 911 - 2021</h3><p>Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø¨Ø£Ø¯Ø§Ø¡ Ø®Ø§Ø±Ù‚.</p><div class="price">500,000 Ø¯.Ø¥</div></div>
  </article>

  <!-- 10 -->
  <article class="card" data-exterior="https://images.unsplash.com/photo-1603791440384-56cd371ee9b5?auto=format&fit=crop&w=1200&q=80" data-interior="https://images.unsplash.com/photo-1618198993755-7e4f9d2b7d77?auto=format&fit=crop&w=1200&q=80" data-title="ØªØ³Ù„Ø§ Ù…ÙˆØ¯ÙŠÙ„ S - 2020" data-price="400,000 Ø¯.Ø¥">
    <img src="https://images.unsplash.com/photo-1603791440384-56cd371ee9b5?auto=format&fit=crop&w=1200&q=80" alt="">
    <div class="card-body"><h3>ØªØ³Ù„Ø§ Ù…ÙˆØ¯ÙŠÙ„ S - 2020</h3><p>ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ù…Ø¹ ØªÙ‚Ù†ÙŠØ§Øª Ù‚ÙŠØ§Ø¯Ø©.</p><div class="price">400,000 Ø¯.Ø¥</div></div>
  </article>
</section>

<!-- Modal: Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙŠØ§Ø±Ø© + Ø´Ø±Ø§Ø¡ -->
<div id="carModal" class="modal" aria-hidden="true">
  <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <button class="close-btn" id="closeModal" title="Ø¥ØºÙ„Ø§Ù‚">&times;</button>
    <span class="arrow prev" id="prev">&#10094;</span>
    <span class="arrow next" id="next">&#10095;</span>

    <h3 id="modalTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³ÙŠØ§Ø±Ø©</h3>

    <div class="images-row">
      <img id="modalExterior" src="" alt="Ø®Ø§Ø±Ø¬ÙŠ">
      <img id="modalInterior" src="" alt="Ø¯Ø§Ø®Ù„ÙŠ">
    </div>

    <div class="price-large" id="modalPrice">0 Ø¯.Ø¥</div>

    <!-- Form: Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ÙˆÙ‡Ù…ÙŠ -->
    <div id="purchaseArea">
      <div style="max-width:680px;margin:0 auto;">
        <label>Ø§Ø®ØªØ± ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹:</label>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px">
          <button class="btn btn-ghost" data-pay="visa">ÙÙŠØ²Ø§</button>
          <button class="btn btn-ghost" data-pay="mastercard">Ù…Ø§Ø³ØªØ±ÙƒØ§Ø±Ø¯</button>
          <button class="btn btn-ghost" data-pay="bank">ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ</button>
          <button class="btn btn-ghost" data-pay="installments">ØªÙ‚Ø³ÙŠØ·</button>
        </div>

        <div class="form-row">
          <div class="two">
            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø´ØªØ±ÙŠ</label>
            <input id="buyerName" type="text" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
          </div>
          <div class="two">
            <label>Ù‡Ø§ØªÙ Ù„Ù„ØªÙˆØ§ØµÙ„</label>
            <input id="buyerPhone" type="tel" placeholder="+971 5x xxx xxxx">
          </div>
        </div>

        <div id="cardFields" style="margin-top:10px">
          <div class="form-row">
            <div class="two">
              <label>Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (ØªØ¬Ø±ÙŠØ¨ÙŠ)</label>
              <input id="cardNumber" type="text" placeholder="4242 4242 4242 4242">
            </div>
            <div class="two">
              <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ / CVV</label>
              <input id="cardExpire" type="text" placeholder="MM/YY â€¢ CVV">
            </div>
          </div>
        </div>

        <div class="actions">
          <button class="btn btn-primary" id="confirmBuy">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹</button>
          <button class="btn btn-ghost" id="cancelBuy">Ø¥Ù„ØºØ§Ø¡</button>
        </div>

        <p class="small">Ù‡Ø°Ù‡ ØªØ¬Ø±Ø¨Ø© Ø¹Ø±Ø¶ â€” Ù„Ø§ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª. Ù„Ø±Ø¨Ø· Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙØ¹ Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø³Ù†Ø¬Ù‡Ø² Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ø§Ø­Ù‚Ø§Ù‹.</p>
      </div>
    </div>

    <!-- Success area (hidden until success) -->
    <div id="successArea" style="display:none;margin-top:12px;text-align:center">
      <h4 style="color:#9fe8a9">ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­ ğŸ‰</h4>
      <div class="receipt" id="receiptText"></div>
      <div style="margin-top:12px;display:flex;gap:8px;justify-content:center">
        <button class="btn btn-primary" id="downloadReceipt">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥ÙŠØµØ§Ù„</button>
        <button class="btn btn-ghost" id="closeAfter">ØºÙ„Ù‚</button>
      </div>
    </div>

  </div>
</div>

<footer>Â© 2025 Prime Motors - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</footer>

<script>
/* Ø¹Ù†Ø§ØµØ± Ø±Ø¦ÙŠØ³ÙŠØ© */
const cards = document.querySelectorAll('.card');
const modal = document.getElementById('carModal');
const titleEl = document.getElementById('modalTitle');
const extImg = document.getElementById('modalExterior');
const intImg = document.getElementById('modalInterior');
const priceEl = document.getElementById('modalPrice');
const closeModal = document.getElementById('closeModal');
const prev = document.getElementById('prev');
const next = document.getElementById('next');

const payButtons = document.querySelectorAll('[data-pay]');
const cardFields = document.getElementById('cardFields');
const buyerName = document.getElementById('buyerName');
const buyerPhone = document.getElementById('buyerPhone');
const cardNumber = document.getElementById('cardNumber');
const cardExpire = document.getElementById('cardExpire');

const confirmBuy = document.getElementById('confirmBuy');
const cancelBuy = document.getElementById('cancelBuy');

const purchaseArea = document.getElementById('purchaseArea');
const successArea = document.getElementById('successArea');
const receiptText = document.getElementById('receiptText');
const downloadReceipt = document.getElementById('downloadReceipt');
const closeAfter = document.getElementById('closeAfter');

let currentIndex = 0;
let selectedPay = 'visa';

/* ÙØªØ­ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ù„Ø³ÙŠØ§Ø±Ø© Ù…Ø¹ÙŠÙ†Ø© */
function openModal(index){
  const card = cards[index];
  const title = card.dataset.title || 'Ø³ÙŠØ§Ø±Ø©';
  const price = card.dataset.price || '';
  const ext = card.dataset.exterior || '';
  const intr = card.dataset.interior || '';

  titleEl.textContent = title;
  priceEl.textContent = price;
  extImg.src = ext;
  intImg.src = intr;

  // reset form
  selectedPay = 'visa';
  payButtons.forEach(b=>b.classList.remove('active'));
  payButtons[0].classList.add('active');
  cardFields.style.display = '';
  buyerName.value = '';
  buyerPhone.value = '';
  cardNumber.value = '';
  cardExpire.value = '';
  successArea.style.display = 'none';
  purchaseArea.style.display = '';

  modal.classList.add('open');
  modal.setAttribute('aria-hidden','false');
  currentIndex = index;
}

/* Ø¥ØºÙ„Ø§Ù‚ */
function close(){
  modal.classList.remove('open');
  modal.setAttribute('aria-hidden','true');
}

/* Ø§Ù„ØªÙ†Ù‚Ù„ */
function goto(index){
  currentIndex = (index + cards.length) % cards.length;
  openModal(currentIndex);
}

/* Ø±Ø¨Ø· Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
cards.forEach((card,i)=>{
  card.addEventListener('click', ()=> openModal(i));
});

/* Ø£Ø²Ø±Ø§Ø± Ø¥ØºÙ„Ø§Ù‚ Ùˆ Ø§Ù„Ø£Ø³Ù‡Ù… */
closeModal.addEventListener('click', close);
prev.addEventListener('click', ()=> goto(currentIndex-1));
next.addEventListener('click', ()=> goto(currentIndex+1));
window.addEventListener('keydown', e=>{
  if(modal.classList.contains('open')){
    if(e.key === 'ArrowLeft') goto(currentIndex-1);
    if(e.key === 'ArrowRight') goto(currentIndex+1);
    if(e.key === 'Escape') close();
  }
});
window.addEventListener('click', e=> { if(e.target === modal) close(); });

/* Ø§Ø®ØªÙŠØ§Ø± ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹ */
payButtons.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    payButtons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    selectedPay = btn.dataset.pay;
    // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
    if(selectedPay === 'bank' || selectedPay === 'installments'){
      cardFields.style.display = 'none';
    } else {
      cardFields.style.display = '';
    }
  });
});

/* ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø´Ø±Ø§Ø¡ â€” Ù…Ø­Ø§ÙƒØ§Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© */
confirmBuy.addEventListener('click', ()=>{
  // ØªØ­Ù‚Ù‚ Ù…Ø¨Ø¯Ø¦ÙŠ Ø¨Ø³ÙŠØ·
  if(!buyerName.value.trim()){
    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø´ØªØ±ÙŠ');
    buyerName.focus();
    return;
  }
  if(!buyerPhone.value.trim()){
    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ§Ù„Ø­');
    buyerPhone.focus();
    return;
  }
  if((selectedPay === 'visa' || selectedPay === 'mastercard') && !cardNumber.value.trim()){
    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ');
    cardNumber.focus();
    return;
  }

  // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© (Ù…Ø­Ø§ÙƒØ§Ø©) Ø«Ù… Ù†Ø¬Ø§Ø­
  confirmBuy.disabled = true;
  confirmBuy.textContent = 'Ø¬Ø§Ø±Ù Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...';

  setTimeout(()=> {
    // Ù…Ø­Ø§ÙƒØ§Ø© Ù†Ø¬Ø§Ø­
    const car = cards[currentIndex].dataset.title;
    const price = cards[currentIndex].dataset.price;
    const name = buyerName.value.trim();
    const phone = buyerPhone.value.trim();
    const payMethod = selectedPay;
    const txnId = 'PM-' + Date.now().toString(36).toUpperCase();

    // Ù†Øµ Ø§Ù„Ø¥ÙŠØµØ§Ù„
    const receipt = [
      'Prime Motors',
      'Ø¥ÙŠØµØ§Ù„ Ø´Ø±Ø§Ø¡ - ØªØ£ÙƒÙŠØ¯ ÙˆÙ‡Ù…ÙŠ',
      '-----------------------------',
      `Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ${txnId}`,
      `Ø§Ù„Ù…Ø´ØªØ±ÙŠ: ${name}`,
      `Ø§Ù„Ù‡Ø§ØªÙ: ${phone}`,
      `Ø§Ù„Ø³ÙŠØ§Ø±Ø©: ${car}`,
      `Ø§Ù„Ù…Ø¨Ù„Øº: ${price}`,
      `ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹: ${payMethod}`,
      `Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleString('ar-EG')}`,
      '-----------------------------',
      'Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨Ù€ Prime Motors!'
    ].join('\n');

    receiptText.textContent = receipt;
    purchaseArea.style.display = 'none';
    successArea.style.display = '';
    confirmBuy.disabled = false;
    confirmBuy.textContent = 'Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹';

  }, 900); // ØªØ£Ø®ÙŠØ± Ù‚ØµÙŠØ± Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© (Ø¹Ù…Ù„ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø©)
});

/* ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥ÙŠØµØ§Ù„ ÙƒÙ…Ù„Ù Ù†ØµÙŠ */
downloadReceipt.addEventListener('click', ()=>{
  const text = receiptText.textContent || 'Receipt';
  const blob = new Blob([text], {type: 'text/plain;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'receipt-prime-motors.txt';
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
});

/* Ø¥ØºÙ„Ø§Ù‚ Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­ */
closeAfter.addEventListener('click', ()=>{
  close();
});
</script>

</body>
</html>
